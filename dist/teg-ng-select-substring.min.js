(function(){angular.module("TegNgSelectSubstring",["TegRegexp"]).factory("tegNgSelectSubstring",["tegRegexp",function(e){return{select:function(e,t){var r,n,a,g;for(n=this.extractWords(t),a=0,g=n.length;g>a;a++)r=n[a],e=this.replaceOneWord(e,r);return e=_.escape(e),e=e.replace(/__tag_start__/g,"<span class='SelectedSubstring'>"),e.replace(/__tag_end__/g,"</span>")},extractWords:function(e){var t;return t=e.split(" "),t=_.filter(t,"length"),t=_.uniq(t),_.sortBy(t,"length")},replaceOneWord:function(t,r){var n,a,_;return a=e.escape(r),n=new RegExp("\\b("+a+")","gi"),_="__tag_start__$1__tag_end__",t.replace(n,_)}}}])}).call(this);