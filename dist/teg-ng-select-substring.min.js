(function(){"use strict";angular.module("TegNgSelectSubstring",["TegNgTextUtils"]).factory("tegNgSelectSubstring",["tegNgTextUtils",function(e){return{select:function(e,t){var r,n,a,c;for(n=this.extractWords(t),a=0,c=n.length;c>a;a++)r=n[a],e=this.replaceOneWord(e,r);return e=this.escapeHtml(e),e=e.replace(/__tag_start__/g,"<span class='SelectedSubstring'>"),e.replace(/__tag_end__/g,"</span>")},extractWords:function(e){var t;return t=e.split(" "),t=t.filter(function(e){return e.length}),t=this.uniqArray(t),t.sort(function(e,t){return e.length-t.length})},replaceOneWord:function(t,r){var n,a,c;return a=e.escapeRegexp(r),n=new RegExp("\\b("+a+")","gi"),c="__tag_start__$1__tag_end__",t.replace(n,c)},uniqArray:function(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})},escapeHtml:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}}}])}).call(this);